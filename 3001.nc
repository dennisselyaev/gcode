%
O3001(MKRS QUAD WTH CRCTR);
(fanuc 0i-md);
(SELYAEV.ru - creator);
(Cutting quad with offset x and y, corrector tool);
;
(DATA);
N1 (NEVERN A ILI B) ;
#24=#24(X);
#25=#25(Y);
#1=#1(START Y);
#2=#2(END Y);
IF[#1LT#2]GOTO1;
#1=#1/2.;
#2=#2/2.;
#1=#1+#22;
#2=#2+#22;
#3=#3(START X);
#7=#7(END X);
IF[#3LT#7]GOTO1;
#800=#7/4.;
#3=#3/2.;
#7=#7/2.;
#3=#3+#22;
#7=#7+#22;
#17=#17/2.;
#517=[#1-#2]/#17 (STEP Y);
#617=[#3-#7]/#17 (STEP X);
#9=#9(FEED);
#26=#26(Z);
#8=#8(41 OR 42);
#22=#22(CLEAR STEP);
#18=#18(R);
;
(Y);
#510=#25+#1;
#511=#510-#18;
#520=#25-#1;
#521=#520+#18;
#500=#510+25.;
#501=#510+15.;
;
(X);
#610=#24+#3;
#611=#610-#18;
#620=#24-#3;
#621=#610+#18;
#600=#620-25.;
#601=#620-15.;
;
(Z);
#777=#26-#26+15.;
;
(WORK);
G90G0X#600Y#500;
G0Z#777;
G1Z#26F2000;
WH[[#1GE#2]AND[#3GE#7]]DO1;
G90G1G#8X#601Y#501F#9;
G3X#620Y#510R15.;
G1X#611f#9;
G2X#610Y#511R#18;
G1Y#521;
G2X#611Y#520R#18;
G1X#621;
G2X#620Y#521R#18;
G1Y#511;
#1=#1-#517;
#3=#3-#617;
G2X#621Y#510R#18;
#510=#25+#1;
#511=#510-#18;
#520=#25-#1;
#521=#520+#18;
#501=#510+15.;
G91G1X#800;
#610=#24+#3;
#611=#610-#18;
#620=#24-#3;
#621=#610+#18;
#601=#620-15.;
G90G40G0X#600Y#500;
END1;
G0Z#777;
M99;
%